class Simul extends Phaser.Scene{constructor(s,e,t,a){super("simulation"),this.mapLoad=e,this.mapCreate=t,this.parent=s,this.mode=a}preload(){this.load.json("liteShape","assets/liteShape.json"),this.load.json("plusShape","assets/plusShape.json"),this.load.spritesheet("liteBodyPic","assets/liteBody.png",{frameWidth:80,frameHeight:80}),this.load.spritesheet("plusBodyPic","assets/plusBody.png",{frameWidth:100,frameHeight:103}),this.load.image("echelle","assets/scale.png"),this.mapLoad(this)}create(){this.frame=0,this.marks=[],this.walls=[],this.matter.add.mouseSpring().constraint.stiffness=5e-4,this.mapCreate(this),this.mode&&this.scene.launch("setup",this),this.scene.launch("overlay",this)}update(){for(let s=0;s<this.parent.robots.length;s++)this.parent.robots[s].update();this.frame++}}